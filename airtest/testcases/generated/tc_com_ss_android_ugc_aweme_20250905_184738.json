{
  "testcase_id": "TC_COM_SS_ANDROID_UGC_AWEME_20250905_184738",
  "name": "抖音智能搜索测试",
  "version": "2.0.0",
  "description": "基于用户需求生成的智能测试用例: 在抖音APP中搜索'美食视频'，如果搜索框有历史记录先清空",
  "generated_at": "2025-09-05T18:47:38.221364",
  "generation_method": "llm_assisted",
  "original_description": "在抖音APP中搜索'美食视频'，如果搜索框有历史记录先清空",
  "target_app": "com.ss.android.ugc.aweme",
  "metadata": {
    "tags": [
      "llm_generated",
      "search",
      "smart_judgment",
      "demo"
    ],
    "priority": "high",
    "estimated_duration": 60,
    "device_types": [
      "android_phone"
    ],
    "complexity": "conditional_logic",
    "ai_friendly": true
  },
  "variables": {
    "search_keyword": "美食视频",
    "target_app_package": "com.ss.android.ugc.aweme",
    "max_wait_time": 20
  },
  "execution_path": [
    {
      "step": 1,
      "action": "click",
      "target": {
        "priority_selectors": [
          {
            "resource_id": "com.ss.android.ugc.aweme:id/search_btn"
          },
          {
            "content_desc": "搜索"
          },
          {
            "text": "搜索"
          }
        ]
      },
      "description": "点击抖音搜索按钮",
      "success_criteria": "成功进入搜索页面"
    },
    {
      "step": 2,
      "action": "conditional_action",
      "condition": {
        "type": "element_content_check",
        "target": {
          "priority_selectors": [
            {
              "resource_id": "com.ss.android.ugc.aweme:id/search_edit"
            },
            {
              "class": "android.widget.EditText"
            }
          ]
        },
        "check": "has_text_content"
      },
      "conditional_paths": {
        "if_has_content": {
          "action": "click",
          "target": {
            "priority_selectors": [
              {
                "resource_id": "com.ss.android.ugc.aweme:id/search_clear"
              },
              {
                "content_desc": "清除"
              }
            ]
          },
          "reason": "搜索框有历史内容，需要先清空"
        },
        "if_empty": {
          "action": "input",
          "target": {
            "resource_id": "com.ss.android.ugc.aweme:id/search_edit"
          },
          "data": "${search_keyword}",
          "reason": "搜索框为空，直接输入搜索词"
        }
      },
      "description": "🧠 智能判断搜索框状态并选择操作",
      "business_logic": "确保搜索框处于正确状态"
    },
    {
      "step": 3,
      "action": "input",
      "target": {
        "resource_id": "com.ss.android.ugc.aweme:id/search_edit"
      },
      "data": "${search_keyword}",
      "description": "输入搜索关键词"
    },
    {
      "step": 4,
      "action": "click",
      "target": {
        "priority_selectors": [
          {
            "resource_id": "com.ss.android.ugc.aweme:id/search_submit"
          },
          {
            "text": "搜索"
          }
        ]
      },
      "description": "点击搜索按钮执行搜索"
    }
  ],
  "llm_analysis": {
    "detected_intent": "搜索功能测试",
    "key_actions": [
      "导航到搜索",
      "智能状态判断",
      "输入关键词",
      "执行搜索"
    ],
    "conditional_logic": [
      "搜索框内容状态检查"
    ],
    "confidence": 0.95
  },
  "device_adaptation": {
    "detection_time": "2025-09-05T18:47:38.243241",
    "detected_device": {
      "detection_time": "2025-09-05T18:47:38.243189",
      "host_system": "Linux",
      "framework_available": false,
      "device_name": "Simulated_Device",
      "android_version": "13.0",
      "sdk_version": "33",
      "brand": "Generic",
      "manufacturer": "Android",
      "device_model": "simulator",
      "screen_info": {
        "resolution": "1080x1920",
        "density": 420,
        "orientation": "portrait"
      },
      "note": "使用模拟设备信息"
    },
    "adaptation_rules": {
      "touch_adaptation": {
        "base_resolution": "1080x1920",
        "current_resolution": "1080x1920",
        "scale_factor_x": 1.0,
        "scale_factor_y": 1.0,
        "touch_offset": {
          "x": 0,
          "y": 50
        }
      },
      "recognition_adaptation": {
        "preferred_mode": "xml_priority",
        "xml_recognition": {
          "enabled": true,
          "timeout": 10,
          "retry_count": 3
        },
        "visual_recognition": {
          "enabled": true,
          "confidence_threshold": 0.8,
          "template_matching_threshold": 0.7
        }
      },
      "performance_adaptation": {
        "action_delay": 1.0,
        "element_wait_timeout": 20,
        "screenshot_quality": 90
      },
      "app_specific": {
        "launch_timeout": 30,
        "page_load_timeout": 20,
        "animation_wait": 1.0
      }
    },
    "assets_path_pattern": {
      "base_path": "assets/com_ss_android_ugc_aweme_Simulated_Device",
      "screenshots_pattern": "assets/com_ss_android_ugc_aweme_Simulated_Device/step{step_num}_{action}_{timestamp}.png",
      "elements_pattern": "assets/com_ss_android_ugc_aweme_Simulated_Device/step{step_num}_element_{element_type}_{timestamp}.png",
      "omniparser_pattern": "assets/com_ss_android_ugc_aweme_Simulated_Device/step{step_num}_omni_result_{timestamp}.json",
      "execution_log": "assets/com_ss_android_ugc_aweme_Simulated_Device/execution_log.json"
    }
  }
}